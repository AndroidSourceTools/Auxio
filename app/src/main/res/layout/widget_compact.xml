<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@android:id/background"
    android:background="?attr/colorSurface"
    android:theme="@style/Theme.Widget"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content">

    <!--
    We can't use ConstraintLayout on widgets due to RemoteView limitations, but
    for this widget form to work, we need to get the cover to preserve it's aspect
    ratio. So, we use a fixed-size 1000x1000 drawable and then align the cover view
    to that so that the bounds will scale properly.
    This is easily one of the worst layout hacks I've done, but it seems to work.
    -->

    <ImageView
        android:id="@+id/widget_aspect_ratio"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:adjustViewBounds="true"
        android:scaleType="fitCenter"
        android:src="@drawable/ui_widget_aspect_ratio"
        android:visibility="invisible"
        tools:ignore="ContentDescription" />

    <ImageView
        android:id="@+id/widget_cover"
        android:layout_width="0dp"
        android:layout_height="0dp"
        android:layout_alignStart="@id/widget_aspect_ratio"
        android:layout_alignTop="@id/widget_aspect_ratio"
        android:layout_alignEnd="@id/widget_aspect_ratio"
        android:layout_alignBottom="@id/widget_aspect_ratio"
        android:src="@drawable/ic_song"
        tools:ignore="ContentDescription" />

    <LinearLayout
        android:id="@+id/widget_panel"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_alignParentEnd="true"
        android:layout_alignParentBottom="true"
        android:layout_toEndOf="@+id/widget_cover"
        android:gravity="center"
        android:orientation="vertical"
        android:padding="@dimen/spacing_medium">

        <TextView
            android:id="@+id/widget_song"
            style="@style/Widget.Component.AppWidget.TextView.Primary"
            android:text="@string/def_widget_song" />

        <TextView
            android:id="@+id/widget_artist"
            style="@style/Widget.Component.AppWidget.TextView.Secondary"
            android:text="@string/def_widget_artist" />

    </LinearLayout>

</RelativeLayout>
